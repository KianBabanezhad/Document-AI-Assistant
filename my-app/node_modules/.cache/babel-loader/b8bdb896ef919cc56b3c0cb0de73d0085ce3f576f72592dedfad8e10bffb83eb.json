{"ast":null,"code":"var _jsxFileName = \"E:\\\\Desktop\\\\Projects\\\\Small Language Models\\\\SOP_project\\\\Flask-React_pdf_based\\\\API\\\\my-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState(\"\");\n  const [isSending, setIsSending] = useState(false);\n  const handleSend = async () => {\n    if (!inputText.trim()) return;\n    setIsSending(true);\n    setMessages(prev => [...prev, {\n      sender: \"user\",\n      text: inputText\n    }]);\n    const controller = new AbortController();\n    const response = await fetch(\"/api/chat\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        question: inputText\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      signal: controller.signal\n    });\n    const reader = response.body.getReader();\n    const decoder = new TextDecoder(\"utf-8\");\n    let botText = \"\";\n    while (true) {\n      const {\n        value,\n        done\n      } = await reader.read();\n      if (done) break;\n      const chunk = decoder.decode(value, {\n        stream: true\n      });\n      botText += chunk;\n      setMessages(prev => {\n        var _updated;\n        const updated = [...prev];\n        if (((_updated = updated[updated.length - 1]) === null || _updated === void 0 ? void 0 : _updated.sender) === \"bot\") {\n          updated[updated.length - 1].text = botText;\n        } else {\n          updated.push({\n            sender: \"bot\",\n            text: botText\n          });\n        }\n        return updated;\n      });\n    }\n    setIsSending(false);\n    setInputText(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"600px\",\n      margin: \"2rem auto\",\n      fontFamily: \"Arial\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"SOP Assistant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"1rem\",\n        height: \"400px\",\n        overflowY: \"auto\",\n        border: \"1px solid #ccc\",\n        padding: \"1rem\"\n      },\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"0.5rem 0\",\n          textAlign: msg.sender === \"user\" ? \"right\" : \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [msg.sender === \"user\" ? \"You\" : \"Bot\", \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), \" \", msg.text]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)), isSending && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Bot:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 28\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"em\", {\n          children: \"\\uD83E\\uDD16 AI is typing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: \"0.5rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          flex: 1,\n          padding: \"0.5rem\"\n        },\n        value: inputText,\n        onChange: e => setInputText(e.target.value),\n        onKeyDown: e => e.key === \"Enter\" && handleSend(),\n        placeholder: \"Type your question...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        disabled: isSending,\n        children: isSending ? \"Sending...\" : \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"9yKTeAj9OOS07smBacdiEOAJELo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","App","_s","messages","setMessages","inputText","setInputText","isSending","setIsSending","handleSend","trim","prev","sender","text","controller","AbortController","response","fetch","method","body","JSON","stringify","question","headers","signal","reader","getReader","decoder","TextDecoder","botText","value","done","read","chunk","decode","stream","_updated","updated","length","push","style","maxWidth","margin","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","height","overflowY","border","padding","map","msg","idx","textAlign","display","gap","flex","onChange","e","target","onKeyDown","key","placeholder","onClick","disabled","_c","$RefreshReg$"],"sources":["E:/Desktop/Projects/Small Language Models/SOP_project/Flask-React_pdf_based/API/my-app/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState(\"\");\n  const [isSending, setIsSending] = useState(false);\n\n  const handleSend = async () => {\n    if (!inputText.trim()) return;\n\n    setIsSending(true);\n    setMessages(prev => [...prev, { sender: \"user\", text: inputText }]);\n\n    const controller = new AbortController();\n    const response = await fetch(\"/api/chat\", {\n      method: \"POST\",\n      body: JSON.stringify({ question: inputText }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      signal: controller.signal\n    });\n\n    const reader = response.body.getReader();\n    const decoder = new TextDecoder(\"utf-8\");\n    let botText = \"\";\n\n    while (true) {\n      const { value, done } = await reader.read();\n      if (done) break;\n      const chunk = decoder.decode(value, { stream: true });\n      botText += chunk;\n\n      setMessages(prev => {\n        const updated = [...prev];\n        if (updated[updated.length - 1]?.sender === \"bot\") {\n          updated[updated.length - 1].text = botText;\n        } else {\n          updated.push({ sender: \"bot\", text: botText });\n        }\n        return updated;\n      });\n    }\n\n    setIsSending(false);\n    setInputText(\"\");\n  };\n\n  return (\n    <div style={{ maxWidth: \"600px\", margin: \"2rem auto\", fontFamily: \"Arial\" }}>\n      <h2>SOP Assistant</h2>\n\n      <div style={{ marginBottom: \"1rem\", height: \"400px\", overflowY: \"auto\", border: \"1px solid #ccc\", padding: \"1rem\" }}>\n        {messages.map((msg, idx) => (\n          <div key={idx} style={{ margin: \"0.5rem 0\", textAlign: msg.sender === \"user\" ? \"right\" : \"left\" }}>\n            <strong>{msg.sender === \"user\" ? \"You\" : \"Bot\"}:</strong> {msg.text}\n          </div>\n        ))}\n        {isSending && <div><strong>Bot:</strong> <em>ðŸ¤– AI is typing...</em></div>}\n      </div>\n\n      <div style={{ display: \"flex\", gap: \"0.5rem\" }}>\n        <input\n          style={{ flex: 1, padding: \"0.5rem\" }}\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && handleSend()}\n          placeholder=\"Type your question...\"\n        />\n        <button onClick={handleSend} disabled={isSending}>\n          {isSending ? \"Sending...\" : \"Send\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}